<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visible Focus Demo</title>
    <style>
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        padding: 1.5rem;
        background-color: #f9fafb;
        max-width: 400px;
      }

      h3 {
        margin-top: 0;
        color: #374151;
        font-size: 1.1em;
      }

      .form-group {
        margin-bottom: 1rem;
      }

      label {
        display: block;
        margin-bottom: 0.25rem;
        font-weight: 500;
        color: #374151;
      }

      input[type="text"],
      input[type="email"],
      select,
      textarea {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #d1d5db;
        border-radius: 4px;
        font-size: 0.9em;
        background: white;
      }

      /* THE SOLUTION: Clear, visible focus indicators */
      input[type="text"]:focus,
      input[type="email"]:focus,
      select:focus,
      textarea:focus,
      button:focus {
        outline: 3px solid #f59e0b;
        outline-offset: 2px;
        border-color: #3b82f6;
      }

      /* Reduced motion preferences */
      @media (prefers-reduced-motion: reduce) {
        * {
          transition-duration: 0.01ms !important;
          animation-duration: 0.01ms !important;
        }
      }

      button {
        background: #3b82f6;
        color: white;
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-top: 0.5rem;
      }

      button:hover {
        background: #2563eb;
      }

      .success {
        background: #dcfce7;
        color: #166534;
        border: 2px solid #22c55e;
        padding: 0.75rem;
        border-radius: 4px;
        font-size: 0.8em;
        margin-top: 1rem;
        text-align: center;
      }

      textarea {
        resize: vertical;
        height: 60px;
      }

      .error-message {
        color: #dc2626;
        font-size: 0.8em;
        margin-top: 0.25rem;
        display: none;
      }

      .field-error input,
      .field-error select,
      .field-error textarea {
        border-color: #dc2626;
        background-color: #fef2f2;
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
  </head>
  <body>
    <h3>Contact Form</h3>
    <p style="font-size: 0.85em; color: #6b7280; margin-bottom: 1rem">
      <strong>Tab through this form</strong> - notice the clear yellow outline
      on the focused field!
    </p>

    <form novalidate aria-label="Contact information form">
      <div class="form-group">
        <label for="name">Full Name <span aria-hidden="true">*</span></label>
        <input
          type="text"
          id="name"
          name="name"
          required
          aria-describedby="name-error name-help"
        />
        <div id="name-help" class="sr-only">
          Required field. Enter your full name
        </div>
        <div id="name-error" class="error-message" role="alert">
          Please enter your full name
        </div>
      </div>

      <div class="form-group">
        <label for="email"
          >Email Address <span aria-hidden="true">*</span></label
        >
        <input
          type="email"
          id="email"
          name="email"
          required
          aria-describedby="email-error email-help"
        />
        <div id="email-help" class="sr-only">
          Required field. Enter a valid email address
        </div>
        <div id="email-error" class="error-message" role="alert">
          Please enter a valid email address
        </div>
      </div>

      <div class="form-group">
        <label for="country">Country <span aria-hidden="true">*</span></label>
        <select
          id="country"
          name="country"
          required
          aria-describedby="country-error country-help"
        >
          <option value="">Select a country</option>
          <option value="us">United States</option>
          <option value="uk">United Kingdom</option>
          <option value="ca">Canada</option>
          <option value="mg">Madagascar</option>
        </select>
        <div id="country-help" class="sr-only">
          Required field. Select your country from the dropdown
        </div>
        <div id="country-error" class="error-message" role="alert">
          Please select your country
        </div>
      </div>

      <div class="form-group">
        <label for="message">Message</label>
        <textarea
          id="message"
          name="message"
          placeholder="Your message here..."
          aria-describedby="message-help"
        ></textarea>
        <div id="message-help" class="sr-only">
          Optional field. Enter your message or question
        </div>
      </div>

      <button type="submit" aria-describedby="submit-help">Send Message</button>
      <div id="submit-help" class="sr-only">
        Submit the contact form. All required fields must be completed
      </div>
    </form>

    <div class="success">
      <strong>âœ… Much better!</strong> The yellow outline makes it obvious which
      field has focus.<br />
      This uses: <code>outline: 3px solid #f59e0b; outline-offset: 2px;</code
      ><br />
      Plus: ARIA labels, form validation, and screen reader support!
    </div>

    <script>
      // Simple form validation for demonstration
      const form = document.querySelector("form");
      const requiredFields = ["name", "email", "country"];

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        let hasErrors = false;

        requiredFields.forEach((fieldName) => {
          const field = document.getElementById(fieldName);
          const fieldGroup = field.closest(".form-group");
          const errorMessage = document.getElementById(fieldName + "-error");

          if (!field.value.trim()) {
            fieldGroup.classList.add("field-error");
            errorMessage.style.display = "block";
            hasErrors = true;

            if (!hasErrors) {
              field.focus(); // Focus first error field
            }
          } else {
            fieldGroup.classList.remove("field-error");
            errorMessage.style.display = "none";
          }
        });

        if (!hasErrors) {
          alert("Form submitted successfully! (This is just a demo)");
          form.reset();
        }
      });

      // Clear errors when user starts typing
      requiredFields.forEach((fieldName) => {
        const field = document.getElementById(fieldName);
        field.addEventListener("input", function () {
          const fieldGroup = this.closest(".form-group");
          const errorMessage = document.getElementById(fieldName + "-error");

          if (this.value.trim()) {
            fieldGroup.classList.remove("field-error");
            errorMessage.style.display = "none";
          }
        });
      });
    </script>
  </body>
</html>
